var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e){window.alert(`Wray: ${e}`),o.log(e,"warning")}e.d(t,{f:()=>o});const r={identity:()=>[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],scale:(e=0,t=0,n=0)=>[e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1],translate:(e=0,t=0,n=0)=>[1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1],rotate(e=0,t=0,n=0){const r=[1,0,0,0,0,Math.cos(e),-Math.sin(e),0,0,Math.sin(e),Math.cos(e),0,0,0,0,1],a=[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],s=[Math.cos(n),-Math.sin(n),0,0,Math.sin(n),Math.cos(n),0,0,0,0,1,0,0,0,0,1],i=o.matrix44.matrices_multiplied(a,s);return o.matrix44.matrices_multiplied(i,r)},perspective(e=0,t=0,n=0,r=0){const a=Math.tan(e/2),s=n-r;return[1/(a*t),0,0,0,0,1/a,0,0,0,0,(-n-r)/s,1,0,0,2*r*(n/s),0]},screen_space:(e=0,t=0)=>[e/2,0,0,0,0,-t/2,0,0,0,0,1,0,e/2-.5,t/2-.5,0,1],matrices_multiplied(e,t){const n=new Array(16);for(let r=0;r<4;r++)for(let a=0;a<4;a++)n[r+4*a]=e[r+0]*t[0+4*a]+e[r+4]*t[1+4*a]+e[r+8]*t[2+4*a]+e[r+12]*t[3+4*a];return n}},a={lambertian:function(e=o.color_rgb(0,1,1),t=.7){return{isEmissive:!1,color:e,albedo:t,scatter(e=o.ray(),n=o.vector3()){const r=e.aimAt.random_in_hemisphere_cosine_weighted(n),a=n.dot(r.dir)*(t/Math.PI),s=r.dir.dot(n)/Math.PI;return{outRay:r,bsdf:a/s}}}},reflective:function(e=o.color_rgb(0,1,1),t=1,n=.7){return{isEmissive:!1,color:e,reflectance:t,albedo:n,scatter:(r=o.ray(),a=o.vector3())=>Math.random()<=t?{outRay:r.aimAt.reflected(a),bsdf:1}:o.material.lambertian(e,n).scatter(r,a)}},emissive:function(e=1,t=o.color_rgb(1,1,1)){return{isEmissive:!0,color:t,intensity:e}}};function s(e,t,n){return function(){return o.color_rgb(e,t,n)}}function i(e,t={}){return{name:e,payload:t}}const o={assertionFailedFlag:!1,epsilon:1e-6,maxRayDepth:6,in_window_thread:function(){return"function"!=typeof importScripts},assert:function(e,t){if(!e)if(o.assertionFailedFlag)o.error("Assertion failure (ignored): "+t);else{if(Object.defineProperty(o,"assertionFailedFlag",{value:!0,writable:!1}),o.in_window_thread())throw n("Wray assertion: "+t),Error("Wray assertion: "+t);postMessage(o.thread_message.assert(e,t))}},warning:function(e){o.log(e,"warning")},error:function(e){o.log(e,"error")},log:function(e,t="log"){e.length<=0?o.warning("Empty log messages are discouraged."):o.in_window_thread()?(()=>{switch(t){default:return console.log;case"warning":return console.warn;case"error":return console.error}})()(`Wray: ${e}`):postMessage(o.thread_message.log(e))},alert:n,color_rgb:function(e=.5,t=.5,n=.5){return{red:e,green:t,blue:n,clamped:(r=0,a=1)=>o.color_rgb(Math.max(Math.min(a,e),r),Math.max(Math.min(a,t),r),Math.max(Math.min(a,n),r))}},vector3:function(e=0,t=0,n=0){return{x:e,y:t,z:n,rotated_by_matrix(r){const a=r[0]*e+r[4]*t+r[8]*n,s=r[1]*e+r[5]*t+r[9]*n,i=r[2]*e+r[6]*t+r[10]*n;return o.vector3(a,s,i)},sub:r=>o.vector3(e-r.x,t-r.y,n-r.z),cross:r=>o.vector3(t*r.z-n*r.y,n*r.x-e*r.z,e*r.y-t*r.x),dot:r=>e*r.x+t*r.y+n*r.z,normalized(){const r=Math.sqrt(e*e+t*t+n*n)||1;return o.vector3(e/r,t/r,n/r)},scaled:r=>o.vector3(e*r.x,t*r.y,n*r.z),reversed:()=>o.vector3(-e,-t,-n)}},vertex:function(e=o.vector3(),t=null){return{x:e.x,y:e.y,z:e.z,position:e,normal:t}},ray:function(e=o.vector3(0,0,0),t=o.vector3(0,0,1)){return{pos:e,dir:t,aimAt:{direction:(t=o.vector3())=>o.ray(e,t),random_in_hemisphere(t=o.vector3()){let n=o.vector3(Math.random()-Math.random(),Math.random()-Math.random(),Math.random()-Math.random()).normalized();return t.dot(n)<0&&(n=o.vector3(-1*n.x,-1*n.y,-1*n.z)),o.ray(e,n)},random_in_hemisphere_cosine_weighted(t=o.vector3()){const n=Math.random(),r=Math.random(),a=Math.sqrt(n),s=2*Math.PI*r,i=a*Math.cos(s),l=Math.sqrt(Math.max(0,1-n)),u=a*Math.sin(s),c=Math.abs(t.x)>Math.abs(t.y)?o.vector3(t.z,0,-t.x).normalized():o.vector3(0,-t.z,t.y).normalized(),m=t.cross(c),h=o.vector3(i*m.x+l*t.x+u*c.x,i*m.y+l*t.y+u*c.y,i*m.z+l*t.z+u*c.z).normalized();return o.ray(e,h)},reflected(n=o.vector3()){const r=n.dot(t);return o.ray(e,o.vector3(2*r*n.x-t.x,2*r*n.y-t.y,2*r*n.z-t.z).reversed())}},step:(n,r=t)=>o.ray(o.vector3(e.x+r.x*n,e.y+r.y*n,e.z+r.z*n),t),intersect_triangle(e){const t=this,n=[null,0,0],r=e.vertices[1].position.sub(e.vertices[0].position),a=e.vertices[2].position.sub(e.vertices[0].position),s=t.dir.cross(a),i=r.dot(s);if(i>-o.epsilon&&i<o.epsilon)return n;const l=1/i,u=t.pos.sub(e.vertices[0].position),c=u.dot(s)*l;if(c<0||c>1)return n;const m=u.cross(r),h=t.dir.dot(m)*l;if(h<0||c+h>1)return n;const d=a.dot(m)*l;return d<=0?n:[d,c,h]},intersect_aabb(e){const t=this,n=1/t.dir.x,r=1/t.dir.y,a=1/t.dir.z,s=(e.min.x-t.pos.x)*n,i=(e.max.x-t.pos.x)*n;let o=Math.min(s,i),l=Math.max(s,i);const u=(e.min.y-t.pos.y)*r,c=(e.max.y-t.pos.y)*r;o=Math.max(o,Math.min(u,c)),l=Math.min(l,Math.max(u,c));const m=(e.min.z-t.pos.z)*a,h=(e.max.z-t.pos.z)*a;return o=Math.max(o,Math.min(m,h)),l=Math.min(l,Math.max(m,h)),l>=0&&l>=o},intersect_bvh(e){const t=this,n={triangle:null,distance:1/0,u:0,v:0,w:0};return function e(r){if(r.isLeaf)for(const e of r.triangles){const[r,a,s]=t.intersect_triangle(e);null!==r&&r<n.distance&&(n.triangle=e,n.distance=r,n.u=a,n.v=s,n.w=1-a-s)}else t.intersect_aabb(r.mutable.left)&&e(r.mutable.left),t.intersect_aabb(r.mutable.right)&&e(r.mutable.right)}(e.base),null===n.triangle?null:n},trace(e,t=0){const n=this,r=n.intersect_bvh(e),a=r?r.triangle.material:null;if(!r)return o.sky.sampler(n.dir);if(a.isEmissive)return o.color_rgb(a.color.red*a.intensity,a.color.green*a.intensity,a.color.blue*a.intensity);if(t>=o.maxRayDepth)return o.color_rgb(0,0,0);{const s=o.vector3(r.triangle.vertices[0].normal.x*r.w+r.triangle.vertices[1].normal.x*r.u+r.triangle.vertices[2].normal.x*r.v,r.triangle.vertices[0].normal.y*r.w+r.triangle.vertices[1].normal.y*r.u+r.triangle.vertices[2].normal.y*r.v,r.triangle.vertices[0].normal.z*r.w+r.triangle.vertices[1].normal.z*r.u+r.triangle.vertices[2].normal.z*r.v).normalized(),i=n.step(r.distance).step(o.epsilon,r.triangle.faceNormal),{outRay:l,bsdf:u}=r.triangle.material.scatter(i,s),c=l.trace(e,t+1);return o.color_rgb(c.red*u*a.color.red,c.green*u*a.color.green,c.blue*u*a.color.blue)}}}},triangle:function(e=[o.vertex(),o.vertex(),o.vertex()],t=o.material.lambertian()){const n=(()=>{const t=e[1].position.sub(e[0].position),n=e[2].position.sub(e[0].position);return t.cross(n).normalized()})();return e.some((e=>null===(e.normal||null)))&&(e=e.map((e=>o.vertex(e.position,n)))),{vertices:e,material:t,faceNormal:n}},bvh:function(e){const t=Date.now(),n=o.aabb(e,!1);!function e(t,n,r=0){if(!t.isLeaf){const s=["x","y","z"],i=s[r%s.length],l=t.min,u=(()=>{let e=t.max,r=1/0;for(let s=0;s<5;s++){const s=t.min[i]+(t.max[i]-t.min[i])*Math.random(),l=t.min,u=(()=>{switch(i){case"x":return o.vector3(s,t.max.y,t.max.z);case"y":return o.vector3(t.max.x,s,t.max.z);case"z":return o.vector3(t.max.x,t.max.y,s);default:return o.assert(!1,"Unknown BVH split direction."),o.vector3(0,0,0)}})(),c=n.filter((e=>a(e,l,u))),m=n.filter((e=>!a(e,l,u))),h=1+o.aabb(c).volume()*c.length*5+o.aabb(m).volume()*m.length*5;h<r&&(r=h,e=u)}return e})(),c=n.filter((e=>a(e,l,u))),m=n.filter((e=>!a(e,l,u)));function a(e,t,n){return e.vertices.every((e=>Boolean(e.x>=t.x&&e.x<=n.x&&e.y>=t.y&&e.y<=n.y&&e.z>=t.z&&e.z<=n.z)))}o.assert(c.length+m.length===n.length,"Triangles have gone missing during BVH splitting."),t.mutable.left=o.aabb(c,Boolean(r+1>=30||c.length<=3)),t.mutable.right=o.aabb(m,Boolean(r+1>=30||m.length<=3)),e(t.mutable.left,c,r+1),e(t.mutable.right,m,r+1)}}(n,e,1);const r=Date.now();return{base:n,triangles:Object.freeze(e),constructTimeMs:r-t,num_triangles:()=>function e(t,n=0){return t.isLeaf?t.triangles.length:n+e(t.mutable.left,n)+e(t.mutable.right,n)}(n,0)}},aabb:function(e,t=!1){const[n,r]=(()=>{let t=1/0,n=1/0,r=1/0,a=-1/0,s=-1/0,i=-1/0;for(const o of e)for(const e of o.vertices)t=Math.min(t,e.x),n=Math.min(n,e.y),r=Math.min(r,e.z),a=Math.max(a,e.x),s=Math.max(s,e.y),i=Math.max(i,e.z);return[o.vector3(t,n,r),o.vector3(a,s,i)]})();return{min:n,max:r,isLeaf:t,triangles:t?e:[],mutable:{left:null,right:null},volume:()=>2*(r.z-n.z)*(r.x-n.x)+2*(r.z-n.z)*(r.y-n.y)+2*(r.x-n.x)*(r.y-n.y)}},camera:function(e,t,n,r,a=20,s=!1){return{pos:e,axis:t,angle:n,viewPlane:r,fov:a,antialiasing:s,ray_toward_viewing_plane(i,l){let u;const c=r.width/r.height;if(s){const e=Math.random(),t=Math.random(),n=.49*Math.sqrt(-Math.log(1-e)),s=2*Math.PI*t;u=o.vector3(((i+.5+n*Math.cos(s))/r.width*2-1)*Math.tan(a*Math.PI/180)*c,(1-(l+.5+n*Math.sin(s))/r.height*2)*Math.tan(a*Math.PI/180),-1)}else{const e=Math.tan(a*(Math.PI/180));u=o.vector3(((i+.5)/r.width*2-1)*e*c,(1-(l+.5)/r.height*2)*e,-1)}u=u.normalized();{const e=t.cross(u),r=t.dot(u),a=Math.cos(n),s=Math.sin(n);u=o.vector3(u.x*a+e.x*s+t.x*r*(1-a),u.y*a+e.y*s+t.y*r*(1-a),u.z*a+e.z*s+t.z*r*(1-a))}return o.ray(e,u)}}},surface:function(e,t){o.assert(e>0&&t>0,"Invalid width and/or height for the render surface.");const n=new Array(e*t).fill(null).map(((t,n)=>({x:n%e,y:Math.floor(n/e),red:0,green:0,blue:0,numSamples:1})));return r(),{width:e,height:t,pixelBuffer:n,wipe:r,transferable_pixel_array(){const r=new Float64Array(e*t*4);for(const t of n){const a=4*(t.x+t.y*e),s=n[t.x+t.y*e];r[a+0]=s.red,r[a+1]=s.green,r[a+2]=s.blue,r[a+3]=1}return{pixelArray:r,width:e,height:t}},average_sample_count:function(){const e=n.map((e=>e.numSamples)).sort();return e[Math.floor(e.length/2)]},accumulate_to_pixel_at:function(t=0,r=0,a=o.color_rgb()){const s=n[t+r*e];o.assert(null!=s,"Detected an attempt to access an invalid element in the surface color buffer."),s.red+=a.red,s.green+=a.green,s.blue+=a.blue,s.numSamples++}};function r(){n.forEach((e=>{e.red=0,e.green=0,e.blue=0,e.numSamples=0}))}},pfm:function(e=1,t=1,n=[.5,.5,.5],r=1){return o.assert(n.length==e*t*3,"Invalid pixel buffer size."),{width:e,height:t,pixels:Object.freeze(n),type:"PF",isLittleEndian:!0,averageSampleCount:r,header(){const n=`PF\n${e} ${t}\n-${r}\n`;return Array.from(n).map((e=>e.charCodeAt(0)))},body:()=>n.reduce(((e,t)=>(e.push(...new Uint8Array(new Float32Array([t]).buffer,0,4)),e)),[]),data(){return this.header().concat(this.body())},from_file:function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onloadend=()=>{const e=r.result.split("\n");if(e.length<4)return void n("Malformed PFM file.");const a=e[0],[s,i]=e[1].split(" ").map((e=>Number(e))),l=Math.abs(Number(e[2])),u="-"===(e[2][0]||"");if("PF"!==a)return void n("Only full-color PFM files are supported.");if(!u)return void n("Big-endian PFM files are not supported.");if(s<0||i<0)return void n("Invalid PFM image dimensions.");const c=Array.from(e.slice(3).join("\n")),m=(()=>{const e=[];for(let t=0;t<s*i*3;t++){const n=c.slice(4*t,4*t+4).map((e=>e.charCodeAt(0))),r=new Uint8Array(n),a=new Float32Array(r.buffer);e.push(a[0])}return e})();t(o.pfm(s,i,m,l))},r.readAsBinaryString(e)}))}}},ui:function(e,t){const n=new URLSearchParams(window.location.search),r=Math.max(1,Math.min(128,~~(n.get("pixelSize")||"1"))),a=(()=>{const e=(n.get("resolution")||"1280x720").replace(/\s+/g,""),[t,a]=e.split("x");return{width:~~((~~Number(t)||1280)/r),height:~~((~~Number(a)||720)/r)}})(),s=n.get("threads")||"all";return{settings:{paused:!1,pixelSize:r,resolution:a,threadCount:s},container:e,elements:{statusContainer:null,controlsContainerLeft:null,controlsContainerRight:null,status:null,canvas:null,pauseButton:null,pauseButtonLabel:null,pauseButtonContainer:null,menuButtonContainer:null,menuButton:null,menu:null},isVisible:!1,initialize:function(){this.elements.canvas=document.createElement("canvas"),this.elements.statusContainer=document.createElement("div"),this.elements.controlsContainerLeft=document.createElement("div"),this.elements.controlsContainerRight=document.createElement("div"),this.elements.status=document.createElement("div"),this.elements.pauseButton=document.createElement("i"),this.elements.pauseButtonLabel=document.createElement("div"),this.elements.pauseButtonContainer=document.createElement("div"),this.elements.menuButtonContainer=document.createElement("div"),this.elements.menuButton=document.createElement("i"),this.elements.menu=document.createElement("div"),o.assert(Object.getOwnPropertyNames(this.elements).every((e=>null!==e)),"Invalid UI DOM elements!"),this.elements.canvas.setAttribute("class","canvas"),this.elements.status.setAttribute("class","status"),this.elements.statusContainer.setAttribute("class","status-container"),this.elements.controlsContainerLeft.setAttribute("class","controls-container left"),this.elements.controlsContainerRight.setAttribute("class","controls-container right"),this.elements.pauseButton.setAttribute("class","fas fa-fw fa-sm fa-pause"),this.elements.pauseButtonLabel.setAttribute("class","button-label"),this.elements.pauseButtonContainer.setAttribute("class","button pause"),this.elements.menuButton.setAttribute("class","fas fa-fw fa-sm fa-bars"),this.elements.menuButtonContainer.setAttribute("class","button menu"),this.elements.menu.setAttribute("class","dropdown-menu"),this.container.appendChild(this.elements.canvas),this.container.appendChild(this.elements.statusContainer),this.elements.statusContainer.appendChild(this.elements.status),this.elements.statusContainer.appendChild(this.elements.controlsContainerLeft),this.elements.statusContainer.appendChild(this.elements.controlsContainerRight),this.elements.controlsContainerRight.appendChild(this.elements.menuButtonContainer),this.elements.menuButtonContainer.appendChild(this.elements.menuButton),this.elements.controlsContainerRight.appendChild(this.elements.pauseButtonContainer),this.elements.pauseButtonContainer.appendChild(this.elements.pauseButtonLabel),this.elements.pauseButtonContainer.appendChild(this.elements.pauseButton);{this.elements.menuButtonContainer.appendChild(this.elements.menu);const e=document.createElement("div");e.setAttribute("class","dropdown-menu-element"),e.appendChild(document.createTextNode("Save as PFM")),this.elements.menu.appendChild(e);const n=document.createElement("div");n.setAttribute("class","dropdown-menu-element"),n.appendChild(document.createTextNode("Continue from PFM...")),this.elements.menu.appendChild(n);const r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept",".pfm"),r.onchange=()=>{r.files.length&&t.load_pfm(r.files[0]),r.value=""},n.onclick=()=>{this.close_menu(),r.click()},e.onclick=()=>{this.close_menu(),t.save_pfm()}}this.elements.pauseButton.pressed=!1,this.redraw_pause_button(),this.elements.pauseButton.onclick=()=>{this.settings.paused=!this.settings.paused,this.redraw_pause_button(),this.close_menu(),this.redraw_menu_button()},this.elements.menuButton.pressed=!1,this.redraw_menu_button(),this.elements.menuButton.onclick=()=>{this.elements.menuButton.pressed=!this.elements.menuButton.pressed,this.redraw_menu_button()}},reveal:function(){this.isVisible=!0,this.container.style.display="inline-block",this.container.animate([{opacity:"0"},{opacity:"1"}],{duration:50,easing:"ease"})},close_menu:function(){this.elements.menuButton.pressed=!1,this.redraw_menu_button()},redraw_pause_button:function(){this.elements.pauseButton.setAttribute("class",this.settings.paused?"fas fa-fw fa-sm fa-play":"fas fa-fw fa-sm fa-pause"),this.elements.pauseButton.setAttribute("title",this.settings.paused?"Resume":"Pause"),this.elements.pauseButtonLabel.textContent=this.settings.paused?"Paused":""},redraw_menu_button:function(){this.elements.menuButtonContainer.style.visibility=this.settings.paused?"hidden":"visible";const e=this.elements.menuButton.pressed;this.elements.menuButton.setAttribute("class",(this.settings.paused,"fas fa-fw fa-sm fa-bars "+(e?"active":""))),this.elements.menuButton.setAttribute("title",(this.settings.paused,"Options")),this.elements.menu.style.visibility=e?"visible":"hidden"}}},sky:{cie_overcast:function(e=o.vector3(0,1,0),t=1.3){return function(n){const r=1-e.dot(n),a=t*((1+2*Math.cos(r))/3);return o.color_rgb(a,a,a)}},environment_map:function(e,t){return function(n){const[r,a]=e.y?[.5+Math.atan2(n.x,n.z)/(2*Math.PI),.5-Math.asin(-n.y)/Math.PI]:[.5+Math.atan2(n.x,n.y)/(2*Math.PI),.5-Math.asin(-n.z)/Math.PI],s=3*(~~(t.width*r)+~~(t.height*a)*t.width),i=t.pixels[s+0],l=t.pixels[s+1],u=t.pixels[s+2];return o.color_rgb(i,l,u)}},solid_fill:s,sampler:s(1,1,1)},matrix44:r,material:a,tonemappingModels:{drago_2003:function(e,t,n,{epsilon:r=1e-6,exposure:a=0,bias:s=.85}){a=Math.pow(2,a);const[i,o,l]=function(){let a,s,i,o,l,u=new Array(3),c=0,m=t*n;const h=[[.5141364,.3238786,.16036376],[.265068,.67023428,.06409157],[.0241188,.1228178,.84442666]];for(o=r,l=1/0,a=0;a<m;a++){for(u[0]=u[1]=u[2]=0,s=0;s<3;s++)u[s]+=h[s][0]*e[4*a],u[s]+=h[s][1]*e[4*a+1],u[s]+=h[s][2]*e[4*a+2];(i=u[0]+u[1]+u[2])>0?(e[4*a]=u[1],e[4*a+1]=u[0]/i,e[4*a+2]=u[1]/i):e[4*a]=e[4*a+1]=e[4*a+2]=0,o=o<e[4*a]?e[4*a]:o,l=l>e[4*a]?e[4*a]:l,c+=Math.log(23e-6+e[4*a])}return[o,l,c/(t*n)]}();!function(r,a,s,i,o,l,u){let c,m,h,d,f,p,g,b,v,y,M;for(v=n,y=t,i||(i=.85),M=1,h=Math.exp(s)/1,f=Math.log(i)/Math.log(.5),c=r/h,m=Math.log10(c+1),p=0;p<v;p++)for(g=0;g<y;g++)b=p*y+g,e[4*b]/=h,1!=l&&(e[4*b]*=l),d=Math.log(2+8*Math.pow(e[4*b]/c,f)),e[4*b]=Math.log(e[4*b]+1)/d/m}(i,0,l,s,0,a),function(){let a,s,i,o,l,u=new Array(3),c=t*n;const m=[[2.5651,-1.1665,-.3986],[-1.0217,1.9777,.0439],[.0753,-.2543,1.1892]];for(a=0;a<c;a++){for(o=e[4*a],u[1]=e[4*a+1],u[2]=e[4*a+2],o>r&&u[1]>r&&u[2]>r?(i=u[1]*o/u[2],l=i/u[1]-i-o):i=l=r,e[4*a]=i,e[4*a+1]=o,e[4*a+2]=l,u[0]=u[1]=u[2]=0,s=0;s<3;s++)u[s]+=m[s][0]*e[4*a],u[s]+=m[s][1]*e[4*a+1],u[s]+=m[s][2]*e[4*a+2];e[4*a]=u[0],e[4*a+1]=u[1],e[4*a+2]=u[2]}}()}},thread_message:{log:e=>i("thread-log",{string:e}),assert:(e,t)=>i("thread-assert",{condition:e,failMessage:t}),to:{marshal:{render:e=>i("marshal-render",{durationMs:e}),assignRenderSettings:e=>i("marshal-assign-render-settings",e),appendSamples:e=>i("marshal-append-pfm",e),uploadRenderBuffer:()=>i("marshal-upload-render-buffer")},worker:{render:e=>i("worker-render",{durationMs:e}),setId:e=>i("worker-set-id",{id:e}),assignRenderSettings:e=>i("worker-assign-render-settings",e),uploadRenderBuffer:()=>i("worker-upload-render-buffer")}},from:{marshal:{threadInitialized:()=>i("marshal-thread-initialized"),readyToRender:()=>i("marshal-ready-to-render"),renderBuffer:e=>i("marshal-render-buffer",e),workerInitializationFailed:e=>i("marshal-worker-initialization-failed",{why:e}),renderingFailed:e=>i("marshal-rendering-failed",{why:e}),renderingFinished:(e,t)=>i("marshal-rendering-finished",{avgSamplesPerPixel:e,samplesPerSecond:t})},worker:{threadInitialized:()=>i("worker-thread-initialized"),readyToRender:e=>i("worker-ready-to-render",{workerId:e}),renderBuffer:(e,t)=>i("worker-render-buffer",Object.assign({workerId:e},t)),renderingFailed:(e,t)=>i("worker-rendering-failed",{workerId:e,why:t}),renderingFinished:(e,t,n)=>i("worker-rendering-finished",{workerId:e,avgSamplesPerPixel:t,samplesPerSecond:n})}}}};var l=t.f;export{l as Wray};